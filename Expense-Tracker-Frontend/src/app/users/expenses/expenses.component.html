@let _filterOption = filterOption();

<div class="mx-auto mb-10 pb-4 flex flex-col lg:flex-row gap-5 justify-between">
  <!-- Left box -->
  <div class="w-full h-auto lg:w-2/3 rounded-lg py-10 px-5 cards">
    <!-- Page Header -->
    <div class="flex flex-col sm:flex-row justify-between items-center mb-8">
      <h1
        class="text-3xl font-bold text-gray-800 bg-gradient-to-r from-teal-400 to-blue-400 bg-clip-text text-transparent">
        Expense List
      </h1>
    </div>

    <!-- Filter and Sort Section (Above Table Header) -->
    <div class="flex flex-col md:flex-row gap-4">
      <!-- Filter by Category -->
      <div class="flex-1">
        <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Filter by
          Category</label>
        <select id="category"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
          <option value>All Categories</option>
          <option value="food">Food</option>
          <option value="transport">Transport</option>
          <option value="entertainment">Entertainment</option>
          <option value="utilities">Utilities</option>
        </select>
      </div>

      <!-- Filter by Type -->
      <div class="flex-1">
        <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Filter by
          Type</label>
        <select id="category"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
          <option value>All</option>
          <option value="cash-in">Cash In</option>
          <option value="cash-out">Cash Out</option>
        </select>
      </div>

      <!-- Date Range Picker -->
      <div class="flex-1 expense-range-picker">
        <label for="dateRange" class="block text-sm font-medium text-gray-700 mb-2">Date
          Range</label>
        <mat-form-field appearance="outline" class="w-full sm:!min-w-[285px]">
          <mat-date-range-input [rangePicker]="picker" (click)="picker.open()">
            <input matStartDate placeholder="Start date" readonly>
            <input matEndDate placeholder="End date" readonly>
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
      </div>
    </div>

    <!-- Expense List Table -->
    <div class="bg-white rounded-lg shadow-lg ">
      <div class="rounded-lg w-full max-h-[500px] overflow-y-auto overflow-x-auto thin-scrollbar">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gradient-to-r from-teal-400 to-blue-400">
            <tr>
              <th scope="col" class=" text-left text-xs font-medium text-white uppercase tracking-wider"></th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Date
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Category
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Description
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Amount
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Actions
              </th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <!-- Example Row 1 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-01</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Food</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Lunch
                at Cafe</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$15.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 2 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-02</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Transport</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Bus
                Fare</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$2.50</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 3 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-03</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Entertainment</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Movie
                Ticket</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$12.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 1 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-01</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Food</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Lunch
                at Cafe</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$15.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 2 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-02</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Transport</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Bus
                Fare</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$2.50</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 3 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-03</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Entertainment</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Movie
                Ticket</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$12.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 1 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-01</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Food</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Lunch
                at Cafe</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$15.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 2 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-02</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Transport</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Bus
                Fare</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$2.50</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 3 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-03</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Entertainment</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Movie
                Ticket</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$12.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>

            <!-- Example Row 3 -->
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <td class="pl-6 whitespace-nowrap text-sm text-gray-500">
                <div class="w-8 h-8 rounded-full flex items-center justify-center"
                  [ngStyle]="{ 'background': transaction?.type === 'cash-in' ? '#9FE2BF' : '#f1958b' }">
                  <mat-icon class="material-symbols-outlined">{{transaction?.type
                    === 'cash-in'? 'trending_up' : 'trending_down'}}</mat-icon>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-10-03</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Entertainment</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Movie
                Ticket</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold">$12.00</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <a class="mr-2 bg-[#ffe77fbf] py-[5px] px-[10px] rounded">Edit</a>
                <a class="bg-[#ff7f7fbf] py-[5px] px-[10px] rounded">Delete</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="mt-4 px-6 py-4 bg-white rounded-lg shadow-lg flex items-center justify-between">
      <p class="text-gray-700">Total Credit: $1000.00</p>
      <p class="text-gray-700">Total expenses: $270.00</p>
      <p class="text-gray-700">Remaining: $730.00</p>
    </div>

    <!-- Pagination -->
    <div class="mt-4">
      <div class="flex justify-between items-center">
        <div class="w-[100px] h-2"></div>
        @if (true) {
        <div class="pagination-wrap">
          <pagination-controls #pagination [autoHide]="false"
            (pageChange)="pageChangeEvent($event)"></pagination-controls>
        </div>
        }
        <div class="flex items-center">
          <div class="flex justify-center items-center">
            <span>Show:</span>
            <select class="max-w-[100px] !bg-transparent !border-none" [(ngModel)]="_filterOption.limit"
              (change)="expenses.reload()">
              <option [value]="5">5</option>
              <option [value]="10">10</option>
              <option [value]="25">25</option>
              <option [value]="50">50</option>
              <option [value]="100">100</option>
              <option [value]="500">500</option>
            </select>
          </div>

          <div class="__screenLabel"> <!-- limit = 10, totalItems=100 -->
            {{ _filterOption.page * 10 - 10 + 1 }} -
            {{
            _filterOption.page * 10 > 100
            ? 100
            : _filterOption.page * 10
            }}
            of {{ 100 }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right box -->
  <div class="w-full h-auto lg:w-1/3 lg:max-w-130 rounded-lg px-5 py-10 cards">
    <h1
      class="text-3xl text-center font-bold text-gray-800 bg-gradient-to-r from-teal-400 to-blue-400 bg-clip-text text-transparent">
      Add New Expense
    </h1>
    <!-- Add Expense Form -->
    <div class="mt-8 p-6 bg-white rounded-lg shadow-lg">
      <form class="space-y-6">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div class="expense-add-datepicker">
            <label for="date" class="block text-sm font-medium text-gray-700 mb-2">Date</label>
            <!-- <input type="date" id="date"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500" /> -->
            <mat-form-field appearance="outline" class="w-full sm:!min-w-[285px]">
              <input matInput placeholder="mm/dd/yyyy" [matDatepicker]="picker2" readonly (click)="picker2.open()">
              <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2 disabled="false"></mat-datepicker>
            </mat-form-field>
          </div>
          <div>
            <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Category</label>
            <select id="category"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
              <option value="food">Food</option>
              <option value="transport">Transport</option>
              <option value="entertainment">Entertainment</option>
              <option value="utilities">Utilities</option>
            </select>
          </div>
        </div>
        <div>
          <label for="expenseType" class="block text-sm font-medium text-gray-700 mb-2">Type</label>
          <select id="expenseType"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
            <option value="cash-in">Cash In</option>
            <option value="cash-out">Cash Out</option>
          </select>
        </div>
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
          <input type="text" id="description"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500" />
        </div>
        <div>
          <label for="amount" class="block text-sm font-medium text-gray-700 mb-2">Amount</label>
          <input type="number" id="amount"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500" />
        </div>
        <!-- File Upload Field -->
        <div>
          <label for="fileUpload" class="block text-sm font-medium text-gray-700 mb-2">Upload Files</label>
          <input type="file" id="fileUpload" name="fileUpload" multiple
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500"
            accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" />
          <p class="text-sm text-gray-500 mt-1">Upload receipts or related documents (PDF, JPG, PNG, DOC).</p>
          <div class="rounded w-full h-[70px] overflow-y-auto bg-gray-50 thin-scrollbar">
            <ul class="pl-6" style="list-style-type: circle !important;">
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
              <!-- Example File List -->
              <li class="flex justify-between items-center gap-3 px-2">
                <div class="flex"><span class="mt-[1px]">•&nbsp;</span><span class="text-sm text-gray-700">example.pdf</span></div>
                <a class="text-xs text-red-500">Remove</a>
              </li>
            </ul>
          </div>
        </div>
        <button type="submit"
          class="w-full px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-all duration-300 shadow-md hover:shadow-lg">
          Add Expense
        </button>
      </form>
    </div>
  </div>
</div>
