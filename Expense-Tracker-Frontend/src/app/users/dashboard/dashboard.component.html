@let user = userDetails();
@let month = monthDetails();

<div class="mx-auto py-4">
  <div class="w-full h-auto gap-4 flex flex-col sm:flex-col md:flex-col lg:flex-row xl:flex-row mb-4">
    <div class="w-full h-auto sm:w-full md:w-full lg:w-6/12 flex flex-col md:flex-row lg:flex-row p-4 gap-4 rounded-[15px]" style="background-color: rgb(255, 234, 212);">
      <div class="w-[316px] h-[316px] rounded-full overflow-hidden relative">
        <img fill priority class="object-cover" [ngSrc]="(user && user?.image) ? user.image : '/images/add_picture.jpg'" [placeholder]="'/images/add_picture.jpg'" alt="User image">
      </div>
      <div class="flex-grow h-auto text-left text-sm font-medium text-gray-900 py-6">
        <p class="greet ml-2 text-xl font-light">{{greetings()}}</p>
        <p class="ml-2 text-3xl font-light">{{user?.name || '_'}}</p>
        <p class="ml-2 text-gray-500 font-light">
          {{ month.today| date: 'EEEE, MMMM d, y' }}
        </p>

        <p class="ml-2 font-light mt-5">Month: {{month?.today | date: 'MMMM'}}</p>
        <div class="w-full h-12 bg-gray-200 rounded-full dark:bg-gray-700 flex items-center">
          <div class="h-full bg-blue-600 text-xs font-light text-blue-100 leading-none rounded-full flex justify-center items-center" [ngStyle]="{'width': month.daysGoneInPercent+'%'}"> {{month.daysGoneInPercent}}% Completed</div>
          @if (month.daysGoneInPercent <= 75) { <div class="text-center flex flex-grow flex-col justify-center items-center">
            <p class="text-xs font-light">Remaining</p>
            <p class="text-sm font-light">9 Days</p>
        </div>
        }
      </div>

      <p class="ml-2 font-light mt-5">Remaining Days</p>
      <p class="ml-2 font-light">
        <mat-icon style="font-size: 10px; height: 10px; width: 10px; color: rgb(0, 153, 255);">circle</mat-icon> {{month.weekdaysRemaining}} weekdays
      </p>
      <p class="ml-2 font-light">
        <mat-icon style="font-size: 10px; height: 10px; width: 10px; color: rgb(38, 215, 156);">circle</mat-icon> {{month.weekendsRemaining}} weekends
      </p>
    </div>
  </div>
  <div class="w-full h-174 md:h-[348px] gap-4 flex flex-col sm:flex-col md:flex-row lg:flex-row xl:flex-row  sm:w-full md:w-full lg:w-6/12">
    <div class="w-full h-[348px] sm:w-full md:w-1/2 lg:w-1/2 rounded-[15px] relative" style="background-color: rgb(255, 214, 173);">
      <round-progress [current]="20" [max]="100" [color]="'#45ccce'" [background]="'#eaeaea'" [radius]="125" [stroke]="20" [semicircle]="true" [rounded]="true" [clockwise]="false" [responsive]="false" [duration]="800" [animation]="'easeInOutQuart'" [animationDelay]="0" />
    </div>
    <div class="w-full h-[348px] sm:w-full md:w-1/2 lg:w-1/2 rounded-[15px]" style="background-color: rgb(255, 192, 128);"></div>
  </div>
</div>
<div class="w-full h-140 md:h-70 gap-4 flex flex-col sm:flex-col md:flex-row lg:flex-row xl:flex-row">
  <div class="w-full md:w-2/3 h-full rounded-[15px]" style="background-color: aquamarine;"></div>
  <div class="w-full md:w-1/3 h-full rounded-[15px]" style="background-color: rgb(1, 192, 128);"></div>
</div>
</div>
